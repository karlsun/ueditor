{"filter":false,"title":"customToolbarDemo.html","tooltip":"/_examples/customToolbarDemo.html","undoManager":{"mark":26,"position":26,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":59,"column":51},"end":{"row":60,"column":0}},"text":"\r\n"},{"action":"insertText","range":{"start":{"row":60,"column":0},"end":{"row":60,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":60,"column":4},"end":{"row":61,"column":0}},"text":"\r\n"},{"action":"insertText","range":{"start":{"row":61,"column":0},"end":{"row":61,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":60,"column":4},"end":{"row":61,"column":0}},"text":"\r\n"},{"action":"insertText","range":{"start":{"row":61,"column":0},"end":{"row":61,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":60,"column":0},"end":{"row":60,"column":4}},"text":"    "},{"action":"removeText","range":{"start":{"row":59,"column":51},"end":{"row":60,"column":0}},"text":"\r\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":60,"column":4},"end":{"row":60,"column":54}},"text":"UE.registerUI('button', function(editor, uiName) {"},{"action":"insertText","range":{"start":{"row":60,"column":54},"end":{"row":61,"column":0}},"text":"\r\n"},{"action":"insertLines","range":{"start":{"row":61,"column":0},"end":{"row":94,"column":0}},"lines":["    //注册按钮执行时的command命令，使用命令默认就会带有回退操作","    editor.registerCommand(uiName, {","        execCommand: function() {","            alert('execCommand:' + uiName)","        }","    });","    //创建一个button","    var btn = new UE.ui.Button({","        //按钮的名字","        name: uiName,","        //提示","        title: uiName,","        //添加额外样式，指定icon图标，这里默认使用一个重复的icon","        cssRules: 'background-position: -500px 0;',","        //点击时执行的命令","        onclick: function() {","            //这里可以不用执行命令,做你自己的操作也可","            editor.execCommand(uiName);","        }","    });","    //当点到编辑内容上时，按钮要做的状态反射","    editor.addListener('selectionchange', function() {","        var state = editor.queryCommandState(uiName);","        if (state == -1) {","            btn.setDisabled(true);","            btn.setChecked(false);","        } else {","            btn.setDisabled(false);","            btn.setChecked(state);","        }","    });","    //因为你是添加button,所以需要返回这个button","    return btn;"]},{"action":"insertText","range":{"start":{"row":94,"column":0},"end":{"row":94,"column":3}},"text":"});"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":140,"column":0},"end":{"row":140,"column":7}},"text":"</html>"},{"action":"removeLines","range":{"start":{"row":0,"column":0},"end":{"row":140,"column":0}},"nl":"\r\n","lines":["<!DOCTYPE HTML>","<html>","<head>","    <meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\"/>","    <title></title>","    <script type=\"text/javascript\" charset=\"utf-8\" src=\"../ueditor.config.js\"></script>","    <script type=\"text/javascript\" charset=\"utf-8\" src=\"editor_api.js\"></script>","    <style type=\"text/css\">","        #editor {","            border: 1px solid #CCC;","            width: 1000px","        }","        #editor_toolbar_box {","            background: #F0F0EE;","            padding: 2px;","        }","        #editor_iframe_holder {","            border-top: 1px solid #CCC;","            border-bottom: 1px solid #CCC;","        }","    </style>","</head>","<body>","<h1>UEditor自定义toolbar</h1>","    <div id=\"editor\">","        <div id=\"editor_toolbar_box\">","            <div id=\"editor_toolbar\">","                <input id=\"bold\" type=\"button\" value=\"加粗\" onclick=\"myeditor.execCommand('bold')\" style=\"height:24px;line-height:20px\"/>","                <input id=\"italic\" type=\"button\" value=\"加斜\" onclick=\"myeditor.execCommand('italic')\" style=\"height:24px;line-height:20px\"/>","                <select id=\"fontfamily\" onchange=\"myeditor.execCommand('fontfamily',this.value)\">","                    <option value=\"宋体,simsun\">宋体</option>","                    <option value=\"楷体,楷体_gb2312,simkai\">楷体</option>","                    <option value=\"隶书,simli\">隶书</option>","                    <option value=\"黑体,simhei\">黑体</option>","                    <option value=\"andale mono,times\">andale mono</option>","                    <option value=\"arial,helvetica,sans-serif\">arial</option>","                    <option value=\"arial black,avant garde\">arial black</option>","                    <option value=\"comic sans ms,sans-serif\">comic sans ms</option>","                </select>","                <select id=\"fontsize\" onchange=\"myeditor.execCommand('fontsize',this.value)\">","                    <option value=\"10pt\">10pt</option>","                    <option value=\"11pt\">11pt</option>","                    <option value=\"12pt\">12pt</option>","                    <option value=\"14pt\">14pt</option>","                    <option value=\"16pt\">16pt</option>","                    <option value=\"18pt\">18pt</option>","                    <option value=\"20pt\">20pt</option>","                    <option value=\"22pt\">22pt</option>","                    <option value=\"24pt\">24pt</option>","                    <option value=\"36pt\">36pt</option>","                </select>","                <input type=\"button\" value=\"插入html\" onclick=\"insert()\" style=\"height:24px;line-height:20px\"/>","                <input type=\"button\" value=\"清除格式\" onclick=\"myeditor.execCommand('removeformat')\" style=\"height:24px;line-height:20px\"/>","                <input type=\"button\" value=\"获得编辑器内容\" onclick=\"alert(myeditor.getContent())\" style=\"height:24px;line-height:20px\"/>","                <input type=\"button\" value=\"获得编辑器纯文本内容\" onclick=\"alert(myeditor.getContentTxt())\" style=\"height:24px;line-height:20px\"/>","            </div>","        </div>","        <div id=\"editor_iframe_holder\" ></div>","    </div>","    <script type=\"text/javascript\" charset=\"utf-8\">","    UE.registerUI('button', function(editor, uiName) {","    //注册按钮执行时的command命令，使用命令默认就会带有回退操作","    editor.registerCommand(uiName, {","        execCommand: function() {","            alert('execCommand:' + uiName)","        }","    });","    //创建一个button","    var btn = new UE.ui.Button({","        //按钮的名字","        name: uiName,","        //提示","        title: uiName,","        //添加额外样式，指定icon图标，这里默认使用一个重复的icon","        cssRules: 'background-position: -500px 0;',","        //点击时执行的命令","        onclick: function() {","            //这里可以不用执行命令,做你自己的操作也可","            editor.execCommand(uiName);","        }","    });","    //当点到编辑内容上时，按钮要做的状态反射","    editor.addListener('selectionchange', function() {","        var state = editor.queryCommandState(uiName);","        if (state == -1) {","            btn.setDisabled(true);","            btn.setChecked(false);","        } else {","            btn.setDisabled(false);","            btn.setChecked(state);","        }","    });","    //因为你是添加button,所以需要返回这个button","    return btn;","});","    ","        function $G(id){","            return document.getElementById(id);","        }","        //实例化一个不带ui的编辑器,注意此处的实例化对象是baidu.editor下的Editor，而非baidu.editor.ui下的Editor","        var myeditor = UE.getEditor('editor_iframe_holder',{","            toolbars:[[]],","            initialContent: '初始化内容',//初始化编辑器的内容","            initialFrameHeight: 200","        });","        //给编辑器增加一个选中改变的事件，用来判断所选内容以及状态","        myeditor.addListener('selectionchange', function (){","            var cmdName = ['bold','italic'],//命令列表","                fontName = ['fontfamily','fontsize'];//字体设置下拉框列表，此处选择其中两个","","            //查询每个命令当前的状态，并设置对应状态样式","            var i =-1;","            while(i++ < cmdName.length-1){","                var state = myeditor.queryCommandState(cmdName[i]);","                $G(cmdName[i]).style.color = state == 1?\"red\":\"\";","            }","            //依据当前光标所在的字体改变下拉列表的选中值","            i = -1;","            while(i++<fontName.length-1){","                var fstate = myeditor.queryCommandValue(fontName[i]).toLowerCase();","                var fselect = $G(fontName[i]);","                for(var j= 0;j<fselect.options.length;j++){","                    if(fselect.options[j].value.toLowerCase().indexOf(fstate.split(\",\")[0])!=-1){","                        fselect.options[j].selected = \"true\";","                    }","                }","            }","        });","        //插入文本","        function insert(){","            var insertTxt = \"插入的文本\";","            insertTxt = prompt(\"插入的内容\",insertTxt);","            insertTxt&&myeditor.execCommand(\"inserthtml\",insertTxt);","        }","        function execUnderline(cmd){","            myeditor.execCommand(cmd);","        }","        ","    </script>","</body>"]},{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":15}},"text":"<!DOCTYPE HTML>"},{"action":"insertText","range":{"start":{"row":0,"column":15},"end":{"row":1,"column":0}},"text":"\r\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":152,"column":0}},"lines":["<html>","    ","    <head>","        <meta http-equiv=\"Content-Type\" content=\"text/html;charset=utf-8\" />","        <title></title>","        <script type=\"text/javascript\" charset=\"utf-8\" src=\"../ueditor.config.js\"></script>","        <script type=\"text/javascript\" charset=\"utf-8\" src=\"editor_api.js\"></script>","        <style type=\"text/css\">","            #editor {","                border: 1px solid #CCC;","                width: 1000px","            }","            #editor_toolbar_box {","                background: #F0F0EE;","                padding: 2px;","            }","            #editor_iframe_holder {","                border-top: 1px solid #CCC;","                border-bottom: 1px solid #CCC;","            }","        </style>","    </head>","    ","    <body>","        <h1>UEditor自定义toolbar</h1>","        <div id=\"editor\">","            <div id=\"editor_toolbar_box\">","                <div id=\"editor_toolbar\">","                    <input id=\"bold\" type=\"button\" value=\"加粗\" onclick=\"myeditor.execCommand('bold')\"","                    style=\"height:24px;line-height:20px\" />","                    <input id=\"italic\" type=\"button\" value=\"加斜\" onclick=\"myeditor.execCommand('italic')\"","                    style=\"height:24px;line-height:20px\" />","                    <select id=\"fontfamily\" onchange=\"myeditor.execCommand('fontfamily',this.value)\">","                        <option value=\"宋体,simsun\">宋体</option>","                        <option value=\"楷体,楷体_gb2312,simkai\">楷体</option>","                        <option value=\"隶书,simli\">隶书</option>","                        <option value=\"黑体,simhei\">黑体</option>","                        <option value=\"andale mono,times\">andale mono</option>","                        <option value=\"arial,helvetica,sans-serif\">arial</option>","                        <option value=\"arial black,avant garde\">arial black</option>","                        <option value=\"comic sans ms,sans-serif\">comic sans ms</option>","                    </select>","                    <select id=\"fontsize\" onchange=\"myeditor.execCommand('fontsize',this.value)\">","                        <option value=\"10pt\">10pt</option>","                        <option value=\"11pt\">11pt</option>","                        <option value=\"12pt\">12pt</option>","                        <option value=\"14pt\">14pt</option>","                        <option value=\"16pt\">16pt</option>","                        <option value=\"18pt\">18pt</option>","                        <option value=\"20pt\">20pt</option>","                        <option value=\"22pt\">22pt</option>","                        <option value=\"24pt\">24pt</option>","                        <option value=\"36pt\">36pt</option>","                    </select>","                    <input type=\"button\" value=\"插入html\" onclick=\"insert()\" style=\"height:24px;line-height:20px\"","                    />","                    <input type=\"button\" value=\"清除格式\" onclick=\"myeditor.execCommand('removeformat')\"","                    style=\"height:24px;line-height:20px\" />","                    <input type=\"button\" value=\"获得编辑器内容\" onclick=\"alert(myeditor.getContent())\"","                    style=\"height:24px;line-height:20px\" />","                    <input type=\"button\" value=\"获得编辑器纯文本内容\" onclick=\"alert(myeditor.getContentTxt())\"","                    style=\"height:24px;line-height:20px\" />","                </div>","            </div>","            <div id=\"editor_iframe_holder\"></div>","        </div>","        <script type=\"text/javascript\" charset=\"utf-8\">","            UE.registerUI('button', function(editor, uiName) {","                //注册按钮执行时的command命令，使用命令默认就会带有回退操作","                editor.registerCommand(uiName, {","                    execCommand: function() {","                        alert('execCommand:' + uiName)","                    }","                });","                //创建一个button","                var btn = new UE.ui.Button({","                    //按钮的名字","                    name: uiName,","                    //提示","                    title: uiName,","                    //添加额外样式，指定icon图标，这里默认使用一个重复的icon","                    cssRules: 'background-position: -500px 0;',","                    //点击时执行的命令","                    onclick: function() {","                        //这里可以不用执行命令,做你自己的操作也可","                        editor.execCommand(uiName);","                    }","                });","                //当点到编辑内容上时，按钮要做的状态反射","                editor.addListener('selectionchange', function() {","                    var state = editor.queryCommandState(uiName);","                    if (state == -1) {","                        btn.setDisabled(true);","                        btn.setChecked(false);","                    }","                    else {","                        btn.setDisabled(false);","                        btn.setChecked(state);","                    }","                });","                //因为你是添加button,所以需要返回这个button","                return btn;","            });","","            function $G(id) {","                return document.getElementById(id);","            }","            //实例化一个不带ui的编辑器,注意此处的实例化对象是baidu.editor下的Editor，而非baidu.editor.ui下的Editor","            var myeditor = UE.getEditor('editor_iframe_holder', {","                toolbars: [","                    []","                ],","                initialContent: '初始化内容', //初始化编辑器的内容","                initialFrameHeight: 200","            });","            //给编辑器增加一个选中改变的事件，用来判断所选内容以及状态","            myeditor.addListener('selectionchange', function() {","                var cmdName = ['bold', 'italic'], //命令列表","                    fontName = ['fontfamily', 'fontsize']; //字体设置下拉框列表，此处选择其中两个","","                //查询每个命令当前的状态，并设置对应状态样式","                var i = -1;","                while (i++ < cmdName.length - 1) {","                    var state = myeditor.queryCommandState(cmdName[i]);","                    $G(cmdName[i]).style.color = state == 1 ? \"red\" : \"\";","                }","                //依据当前光标所在的字体改变下拉列表的选中值","                i = -1;","                while (i++ < fontName.length - 1) {","                    var fstate = myeditor.queryCommandValue(fontName[i]).toLowerCase();","                    var fselect = $G(fontName[i]);","                    for (var j = 0; j < fselect.options.length; j++) {","                        if (fselect.options[j].value.toLowerCase().indexOf(fstate.split(\",\")[0]) != -1) {","                            fselect.options[j].selected = \"true\";","                        }","                    }","                }","            });","            //插入文本","            function insert() {","                var insertTxt = \"插入的文本\";","                insertTxt = prompt(\"插入的内容\", insertTxt);","                insertTxt && myeditor.execCommand(\"inserthtml\", insertTxt);","            }","","            function execUnderline(cmd) {","                myeditor.execCommand(cmd);","            }","        </script>","    </body>",""]},{"action":"insertText","range":{"start":{"row":152,"column":0},"end":{"row":152,"column":7}},"text":"</html>"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":68,"column":27},"end":{"row":68,"column":33}},"text":"button"},{"action":"insertText","range":{"start":{"row":68,"column":27},"end":{"row":68,"column":28}},"text":"b"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":68,"column":28},"end":{"row":68,"column":29}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":68,"column":29},"end":{"row":68,"column":30}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":68,"column":29},"end":{"row":68,"column":30}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":68,"column":28},"end":{"row":68,"column":29}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":68,"column":27},"end":{"row":68,"column":28}},"text":"b"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":68,"column":27},"end":{"row":68,"column":28}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":68,"column":28},"end":{"row":68,"column":29}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":68,"column":28},"end":{"row":68,"column":29}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":68,"column":28},"end":{"row":68,"column":29}},"text":"_"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":68,"column":29},"end":{"row":68,"column":30}},"text":"b"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":68,"column":30},"end":{"row":68,"column":31}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":68,"column":31},"end":{"row":68,"column":32}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":111,"column":21},"end":{"row":111,"column":23}},"text":"''"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":111,"column":22},"end":{"row":111,"column":23}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":111,"column":23},"end":{"row":111,"column":24}},"text":"_"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":111,"column":22},"end":{"row":111,"column":24}},"text":"c_"},{"action":"insertText","range":{"start":{"row":111,"column":22},"end":{"row":111,"column":27}},"text":"c_btn"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":103,"column":0},"end":{"row":103,"column":15}},"text":"            });"},{"action":"removeLines","range":{"start":{"row":69,"column":0},"end":{"row":103,"column":0}},"nl":"\r\n","lines":["                //注册按钮执行时的command命令，使用命令默认就会带有回退操作","                editor.registerCommand(uiName, {","                    execCommand: function() {","                        alert('execCommand:' + uiName)","                    }","                });","                //创建一个button","                var btn = new UE.ui.Button({","                    //按钮的名字","                    name: uiName,","                    //提示","                    title: uiName,","                    //添加额外样式，指定icon图标，这里默认使用一个重复的icon","                    cssRules: 'background-position: -500px 0;',","                    //点击时执行的命令","                    onclick: function() {","                        //这里可以不用执行命令,做你自己的操作也可","                        editor.execCommand(uiName);","                    }","                });","                //当点到编辑内容上时，按钮要做的状态反射","                editor.addListener('selectionchange', function() {","                    var state = editor.queryCommandState(uiName);","                    if (state == -1) {","                        btn.setDisabled(true);","                        btn.setChecked(false);","                    }","                    else {","                        btn.setDisabled(false);","                        btn.setChecked(state);","                    }","                });","                //因为你是添加button,所以需要返回这个button","                return btn;"]},{"action":"removeText","range":{"start":{"row":68,"column":12},"end":{"row":68,"column":61}},"text":"UE.registerUI('c_btn', function(editor, uiName) {"},{"action":"removeText","range":{"start":{"row":68,"column":12},"end":{"row":69,"column":0}},"text":"\r\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":68,"column":0},"end":{"row":68,"column":12}},"text":"            "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":67,"column":55},"end":{"row":68,"column":0}},"text":"\r\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":75,"column":21},"end":{"row":75,"column":28}},"text":"'c_btn'"}]}]]},"ace":{"folds":[],"scrolltop":952,"scrollleft":0,"selection":{"start":{"row":75,"column":21},"end":{"row":75,"column":21},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":20,"state":"css-start","mode":"ace/mode/html"}},"timestamp":1406276634926,"hash":"6182b0cafe72115ccdeb331d9aa42619acff17e9"}